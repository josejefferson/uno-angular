"use strict";(self.webpackChunkuno=self.webpackChunkuno||[]).push([[364],{5364:(M,s,i)=>{i.r(s),i.d(s,{RoomsModule:()=>I});var a=i(4755),c=i(5784),m=i(8394),l=i(2340),t=i(5206),g=i(3144),p=i(3833);function d(o,e){1&o&&t._UZ(0,"span",5)}function u(o,e){if(1&o&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Oqu(n.error.message)}}function f(o,e){1&o&&(t.TgZ(0,"span"),t._uU(1,"(jogando)"),t.qZA())}function x(o,e){if(1&o&&(t.TgZ(0,"p",16),t._uU(1),t.YNc(2,f,2,0,"span",3),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.currentGameIndex+1,"\xba jogo "),t.xp6(1),t.Q6J("ngIf",!!n.currentGame)}}function w(o,e){1&o&&(t.TgZ(0,"p",19),t._uU(1,"Voc\xea est\xe1 nesta sala"),t.qZA())}function v(o,e){if(1&o&&(t.TgZ(0,"a",12)(1,"div",13),t._uU(2,"Entrar"),t.qZA(),t.TgZ(3,"div")(4,"div",14),t._uU(5),t.qZA(),t._UZ(6,"img",15),t.TgZ(7,"p",16),t._uU(8),t.qZA(),t.YNc(9,x,3,2,"p",17),t.YNc(10,w,2,0,"p",18),t.qZA()()),2&o){const n=e.$implicit,r=t.oxw(2);t.Gre("room border-",r.seedColor(n.id),"-900"),t.ekj("disabled",r.roomDisabled(n)),t.MGl("href","/room?id=",n.id,"",t.LSH),t.xp6(3),t.Gre("content bg-",r.seedColor(n.id),"-800"),t.xp6(2),t.hij("#",n.id,""),t.xp6(3),t.hij("",n.players.length,"/\u221e jogadores"),t.xp6(1),t.Q6J("ngIf",-1!==n.currentGameIndex),t.xp6(1),t.Q6J("ngIf",r.inRoom(n))}}function h(o,e){1&o&&t._UZ(0,"i",20)}function _(o,e){1&o&&(t.TgZ(0,"div",21),t._uU(1,"Nova sala"),t.qZA())}function b(o,e){1&o&&t._UZ(0,"i",22)}function y(o,e){1&o&&(t.TgZ(0,"div",21),t._uU(1,"Criando..."),t.qZA())}function R(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"div",6),t.YNc(1,v,11,13,"a",7),t.TgZ(2,"button",8),t.NdJ("click",function(){t.CHM(n);const T=t.oxw();return t.KtG(T.createRoom())}),t.YNc(3,h,1,0,"i",9),t.YNc(4,_,2,0,"div",10),t.YNc(5,b,1,0,"i",11),t.YNc(6,y,2,0,"div",10),t.qZA()()}if(2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.rooms),t.xp6(1),t.Q6J("disabled",n.creatingRoom),t.xp6(1),t.Q6J("ngIf",!n.creatingRoom),t.xp6(1),t.Q6J("ngIf",!n.creatingRoom),t.xp6(1),t.Q6J("ngIf",n.creatingRoom),t.xp6(1),t.Q6J("ngIf",n.creatingRoom)}}const C=[{path:"",component:(()=>{class o{constructor(n,r){this.http=n,this.socket=r,this.seedColor=m.E,this.name=localStorage.getItem("name")||"",this.sessionID=localStorage.getItem("sessionID")||Math.random().toString(),this.rooms=[],this.loading=!0,this.creatingRoom=!1,this.error=null,this.getRooms(),this.timer=setInterval(()=>this.getRooms(!0),5e3)}ngOnDestroy(){clearInterval(this.timer)}getRooms(n=!1){return n||(this.loading=!0),this.http.get(l.O.api+"/api/room/").subscribe({next:r=>this.rooms=r,error:r=>this.error=r,complete:()=>this.loading=!1})}createRoom(){this.creatingRoom=!0,this.http.post(l.O.api+`/api/room/?sessionID=${this.sessionID}&name=${this.name}`,{}).subscribe({next:()=>this.getRooms(!0),error:n=>alert(n.message),complete:()=>this.creatingRoom=!1})}inRoom(n){return n.players.find(r=>r.id===this.sessionID)}roomDisabled(n){return!!n.currentGame&&!this.inRoom(n)}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(g.eN),t.Y36(p.s))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-rooms"]],decls:6,vars:3,consts:[[1,"container","max-w-6xl","mx-auto","px-5","py-4"],[1,"logo-style","mb-4","text-center"],["class","loading loading-spinner loading-lg block m-auto text-white mb-4",4,"ngIf"],[4,"ngIf"],["class","grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2",4,"ngIf"],[1,"loading","loading-spinner","loading-lg","block","m-auto","text-white","mb-4"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","lg:grid-cols-5","gap-2"],[3,"href","class","disabled",4,"ngFor","ngForOf"],[1,"new-room",3,"disabled","click"],["class","fas fa-plus text-6xl",4,"ngIf"],["class","text-2xl mt-4",4,"ngIf"],["class","fas fa-circle-notch fa-spin text-6xl",4,"ngIf"],[3,"href"],[1,"w-full","h-full","flex","items-center","justify-center","text-2xl","absolute"],[1,"room-id"],["src","/assets/uno-logo.svg","alt","Logo UNO",1,"w-[50px]","md:w-[100px]","mx-auto"],[1,"mt-3"],["class","mt-3",4,"ngIf"],["class","mt-3 text-xs text-white",4,"ngIf"],[1,"mt-3","text-xs","text-white"],[1,"fas","fa-plus","text-6xl"],[1,"text-2xl","mt-4"],[1,"fas","fa-circle-notch","fa-spin","text-6xl"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"SALAS"),t.qZA(),t.YNc(3,d,1,0,"span",2),t.YNc(4,u,2,1,"p",3),t.YNc(5,R,7,6,"div",4),t.qZA()),2&n&&(t.xp6(3),t.Q6J("ngIf",r.loading),t.xp6(1),t.Q6J("ngIf",!!r.error),t.xp6(1),t.Q6J("ngIf",!r.loading&&!r.error))},dependencies:[a.sg,a.O5],styles:[".new-room[_ngcontent-%COMP%]{aspect-ratio:3/4;border-width:8px;--tw-border-opacity: 1;border-color:rgb(127 29 29 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(153 27 27 / var(--tw-bg-opacity));transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.new-room[_ngcontent-%COMP%]:hover{--tw-border-opacity: 1;border-color:rgb(153 27 27 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity))}.new-room[_ngcontent-%COMP%]:active{--tw-scale-x: .9;--tw-scale-y: .9;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.new-room[_ngcontent-%COMP%]:disabled{--tw-border-opacity: 1;border-color:rgb(17 24 39 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}.room[_ngcontent-%COMP%]{position:relative;aspect-ratio:3/4;border-width:8px;--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity));text-align:center;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.room[_ngcontent-%COMP%]:active{--tw-scale-x: .9;--tw-scale-y: .9;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.room.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.room[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;display:flex;height:100%;width:100%;transform-origin:left;flex-direction:column;justify-content:space-between;padding:.75rem;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.room[_ngcontent-%COMP%]   .room-id[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:-moz-fit-content;width:fit-content;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding:.25rem .5rem;--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity));--tw-shadow: 4px 4px black;--tw-shadow-colored: 4px 4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.room[_ngcontent-%COMP%]:hover > .content[_ngcontent-%COMP%]{transform:perspective(1200px) translateZ(0) translate(0) translateY(0) rotateY(-105deg)}"]}),o})()}];let Z=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.Bz.forChild(C),c.Bz]}),o})(),I=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[a.ez,Z]}),o})()}}]);